---
import { Team } from 'data.json' // Asegúrate que las imágenes estén en /images/about/
---

<div
  class="col-span-10 md:col-span-5"
  role="region"
  aria-label="Carrusel de instructores del equipo"
>
  <div
    class="swiper swiper-team w-full h-full rounded-3xl overflow-hidden shadow-2xl relative"
  >
    <!-- Controles prev/next -->
    <button
      class="cursor-pointer swiper-button-prev-team absolute left-2 top-1/2 -translate-y-1/2 z-20 bg-black/40 hover:bg-primary/80 text-white p-2 rounded-full shadow-lg transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-primary/60"
      aria-label="Anterior instructor"
    >
      <svg
        width="24"
        height="24"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
        viewBox="0 0 24 24"><path d="M15 19l-7-7 7-7"></path></svg
      >
    </button>
    <button
      class="cursor-pointer swiper-button-next-team absolute right-2 top-1/2 -translate-y-1/2 z-20 bg-black/40 hover:bg-primary/80 text-white p-2 rounded-full shadow-lg transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-primary/60"
      aria-label="Siguiente instructor"
    >
      <svg
        width="24"
        height="24"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
        viewBox="0 0 24 24"><path d="M9 5l7 7-7 7"></path></svg
      >
    </button>
    <div class="swiper-wrapper">
      {
        Team.map((member) => (
          <div
            class="swiper-slide group relative flex flex-col justify-end items-center h-full"
            role="group"
            aria-label={`Instructor: ${member.name}`}
          >
            {/* Imagen completa, sin recorte agresivo */}
            <div class="absolute inset-0 w-full h-full z-0">
              <img
                src={`/images/about/${member.image}`}
                alt={`Foto del instructor ${member.name}`}
                class="w-full h-full object-cover object-top group-hover:scale-105 transition-transform duration-700 ease-in-out rounded-3xl shadow-lg shadow-black/30"
                loading="lazy"
              />

              {/* Gradiente más suave para que se vea la imagen */}
              <div class="absolute inset-0 bg-gradient-to-t from-black/70 via-black/20 to-transparent rounded-3xl" />

              {/* Badge superior opcional */}
              <div class="absolute top-4 right-4 bg-white/10 text-white text-xs px-3 py-1 rounded-full backdrop-blur-sm border border-white/20 shadow">
                Instructor
              </div>
            </div>

            {/* Info del instructor */}
            <div class="relative z-10 w-full p-6 sm:p-8 flex flex-col items-center text-center gap-1">
              <h4 class="text-2xl md:text-3xl font-bold text-white drop-shadow-lg tracking-wide">
                {member.name}
              </h4>
              <p class="text-base md:text-lg text-white/80 font-light">
                {member.styles.join(', ')}
              </p>
            </div>
          </div>
        ))
      }
    </div>

    <!-- Paginación del Swiper -->
    <div class="swiper-pagination !bottom-2"></div>
  </div>
</div>
