---
import TitleSection from '@/components/TitleSection.astro'
import { Clases } from 'data.json'
---

<section id="classes" class="w-full px-8 flex flex-col items-center mt-24">
  <TitleSection title="Clases">
    Te invitamos a unirte a nuestro programa de entrenamiento multidisciplinario
    y desarrollar tu máximo potencial como artista sin importar tu edad o
    experiencia.
  </TitleSection>

  <div class="grid md:grid-cols-2 gap-8 w-full max-w-6xl">
    {
      Clases.map((clas) => {
        return (
          <article
            class={`relative overflow-hidden rounded-3xl transition-all duration-500 group card-animate hover:scale-[1.02] border border-gray-100`}
          >
            {/* Imagen de fondo con overlay */}
            <div class="relative h-72 overflow-hidden">
              <img
                src={clas.image}
                alt={clas.name}
                class="object-cover w-full h-full duration-700 group-hover:scale-110"
              />
              <div class="absolute inset-0 bg-gradient-to-t from-black/70 via-black/20 to-transparent" />

              {/* Badge flotante */}
              <div class="absolute top-4 right-4 bg-primary/90 backdrop-blur-sm text-white px-3 py-1 rounded-full text-sm font-semibold">
                Disponible
              </div>
            </div>

            {/* Contenido superpuesto */}
            <div class="absolute bottom-0 left-0 right-0 p-6 text-white">
              <h3 class="text-2xl font-bold mb-2 uppercase tracking-wide drop-shadow-lg">
                {clas.name}
              </h3>
              <p class="text-sm opacity-90 mb-1 font-medium">{clas.subname}</p>
              <p class="text-xs opacity-80 leading-relaxed mb-4 line-clamp-2">
                {clas.description}
              </p>

              <div class="flex gap-3">
                <a
                  href="#"
                  class="bg-primary hover:bg-primary/90 text-white px-5 py-2 rounded-full text-sm font-semibold transition-all duration-300 hover:scale-105 shadow-lg"
                >
                  Reservar
                </a>
                <a
                  href="#"
                  class="bg-white/20 backdrop-blur-sm hover:bg-white/30 text-white border border-white/30 px-5 py-2 rounded-full text-sm font-semibold transition-all duration-300 hover:scale-105"
                >
                  Ver más
                </a>
              </div>
            </div>
          </article>
        )
      })
    }
  </div>
</section>

<style>
  article {
    animation: cardsIn 0.8s cubic-bezier(0.36, 1.5, 0.5, 1) both;
    animation-timeline: view();
    animation-range: entry 10% cover 30%;
  }

  @keyframes cardsIn {
    0% {
      opacity: 0;
      transform: translateY(30px) scale(0.9);
      filter: blur(10px);
    }
    100% {
      opacity: 1;
      transform: translateY(0) scale(1);
      filter: blur(0);
    }
  }

  /* Utilidad para truncar texto */
  .line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  /* Sombra personalizada más intensa */
  .shadow-3xl {
    box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
  }
</style>
