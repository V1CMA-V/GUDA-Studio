---
import TitleSection from '@/components/TitleSection.astro'
---

<section id="faq" class="py-20 px-6 md:px-12 lg:px-20">
  <div class="max-w-4xl mx-auto">
    <TitleSection title="Preguntas Frecuentes">
      Resolvemos las dudas más comunes para que puedas comenzar tu aventura en
      el baile con total confianza.
    </TitleSection>

    <div class="space-y-4 mt-16">
      <!-- FAQ Item 1 -->
      <div
        class="faq-item bg-background-cards rounded-lg overflow-hidden shadow-lg"
      >
        <button
          class="faq-question w-full px-6 py-5 text-left text-lg font-semibold text-primary hover:bg-primary/10 transition-colors duration-300 flex justify-between items-center"
          data-faq="1"
        >
          <span>¿Necesito experiencia previa para unirme a las clases?</span>
          <svg
            class="faq-arrow w-5 h-5 text-primary transform transition-transform duration-300"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M19 9l-7 7-7-7"></path>
          </svg>
        </button>
        <div
          class="faq-answer max-h-0 overflow-hidden transition-all duration-500 ease-in-out"
        >
          <div class="px-6 py-4 text-secondary bg-white/5">
            <p class="leading-relaxed">
              ¡Para nada! Nuestras clases están diseñadas para todos los
              niveles, desde principiantes absolutos hasta bailarines avanzados.
              Nuestros instructores se adaptan al ritmo de cada alumno y crean
              un ambiente inclusivo donde todos pueden aprender y crecer.
            </p>
          </div>
        </div>
      </div>

      <!-- FAQ Item 2 -->
      <div
        class="faq-item bg-background-cards rounded-lg overflow-hidden shadow-lg"
      >
        <button
          class="faq-question w-full px-6 py-5 text-left text-lg font-semibold text-primary hover:bg-primary/10 transition-colors duration-300 flex justify-between items-center"
          data-faq="2"
        >
          <span>¿Qué estilos de baile enseñan en GUDA Studio?</span>
          <svg
            class="faq-arrow w-5 h-5 text-primary transform transition-transform duration-300"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M19 9l-7 7-7-7"></path>
          </svg>
        </button>
        <div
          class="faq-answer max-h-0 overflow-hidden transition-all duration-500 ease-in-out"
        >
          <div class="px-6 py-4 text-secondary bg-white/5">
            <p class="leading-relaxed">
              Ofrecemos una amplia variedad de estilos incluyendo Hip Hop,
              Reggaeton, Salsa, Bachata, Kizomba, Danza Contemporánea, Jazz, y
              muchos más. Nuestro objetivo es que encuentres el estilo que más
              te apasione y puedas desarrollar tu propio estilo único.
            </p>
          </div>
        </div>
      </div>

      <!-- FAQ Item 3 -->
      <div
        class="faq-item bg-background-cards rounded-lg overflow-hidden shadow-lg"
      >
        <button
          class="faq-question w-full px-6 py-5 text-left text-lg font-semibold text-primary hover:bg-primary/10 transition-colors duration-300 flex justify-between items-center"
          data-faq="3"
        >
          <span>¿Cuáles son los horarios de las clases?</span>
          <svg
            class="faq-arrow w-5 h-5 text-primary transform transition-transform duration-300"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M19 9l-7 7-7-7"></path>
          </svg>
        </button>
        <div
          class="faq-answer max-h-0 overflow-hidden transition-all duration-500 ease-in-out"
        >
          <div class="px-6 py-4 text-secondary bg-white/5">
            <p class="leading-relaxed">
              Tenemos clases de lunes a sábado en diferentes horarios para
              adaptarnos a tu agenda. Las clases matutinas son de 9:00 AM a
              11:00 AM, vespertinas de 4:00 PM a 6:00 PM, y nocturnas de 7:00 PM
              a 9:00 PM. También ofrecemos clases especiales los fines de
              semana.
            </p>
          </div>
        </div>
      </div>

      <!-- FAQ Item 4 -->
      <div
        class="faq-item bg-background-cards rounded-lg overflow-hidden shadow-lg"
      >
        <button
          class="faq-question w-full px-6 py-5 text-left text-lg font-semibold text-primary hover:bg-primary/10 transition-colors duration-300 flex justify-between items-center"
          data-faq="4"
        >
          <span>¿Qué debo traer a mi primera clase?</span>
          <svg
            class="faq-arrow w-5 h-5 text-primary transform transition-transform duration-300"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M19 9l-7 7-7-7"></path>
          </svg>
        </button>
        <div
          class="faq-answer max-h-0 overflow-hidden transition-all duration-500 ease-in-out"
        >
          <div class="px-6 py-4 text-secondary bg-white/5">
            <p class="leading-relaxed">
              Solo necesitas ropa cómoda que te permita moverte libremente,
              tenis con suela que no se pegue demasiado al piso, una botella de
              agua para mantenerte hidratado, y muchas ganas de aprender y
              divertirte. Nosotros nos encargamos del resto.
            </p>
          </div>
        </div>
      </div>

      <!-- FAQ Item 5 -->
      <div
        class="faq-item bg-background-cards rounded-lg overflow-hidden shadow-lg"
      >
        <button
          class="faq-question w-full px-6 py-5 text-left text-lg font-semibold text-primary hover:bg-primary/10 transition-colors duration-300 flex justify-between items-center"
          data-faq="5"
        >
          <span>¿Ofrecen clases particulares o solo grupales?</span>
          <svg
            class="faq-arrow w-5 h-5 text-primary transform transition-transform duration-300"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M19 9l-7 7-7-7"></path>
          </svg>
        </button>
        <div
          class="faq-answer max-h-0 overflow-hidden transition-all duration-500 ease-in-out"
        >
          <div class="px-6 py-4 text-secondary bg-white/5">
            <p class="leading-relaxed">
              Ofrecemos ambas modalidades. Las clases grupales son perfectas
              para socializar y aprender en comunidad, mientras que las clases
              particulares te permiten un aprendizaje más personalizado y
              avanzar a tu propio ritmo. También tenemos paquetes
              semi-particulares para grupos pequeños.
            </p>
          </div>
        </div>
      </div>

      <!-- FAQ Item 6 -->
      <div
        class="faq-item bg-background-cards rounded-lg overflow-hidden shadow-lg"
      >
        <button
          class="faq-question w-full px-6 py-5 text-left text-lg font-semibold text-primary hover:bg-primary/10 transition-colors duration-300 flex justify-between items-center"
          data-faq="6"
        >
          <span>¿Cuáles son los precios y planes disponibles?</span>
          <svg
            class="faq-arrow w-5 h-5 text-primary transform transition-transform duration-300"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M19 9l-7 7-7-7"></path>
          </svg>
        </button>
        <div
          class="faq-answer max-h-0 overflow-hidden transition-all duration-500 ease-in-out"
        >
          <div class="px-6 py-4 text-secondary bg-white/5">
            <p class="leading-relaxed">
              Tenemos planes flexibles para todos los presupuestos: clases
              individuales, paquetes de 4, 8 o 12 clases, y membresías mensuales
              ilimitadas. También ofrecemos descuentos especiales para
              estudiantes, familias y nuevos miembros. Contáctanos para conocer
              nuestras promociones actuales.
            </p>
          </div>
        </div>
      </div>
    </div>

    <!-- Call to Action -->
    <div class="text-center mt-16">
      <p class="text-lg text-secondary mb-6">
        ¿Tienes más preguntas? ¡Estamos aquí para ayudarte!
      </p>
      <a
        href="#contact"
        class="inline-block px-8 py-3 bg-primary text-white font-semibold rounded-lg hover:bg-primary/80 transform hover:scale-105 transition-all duration-300 shadow-lg hover:shadow-xl"
      >
        Contáctanos
      </a>
    </div>
  </div>
</section>

<script>
  document.addEventListener('DOMContentLoaded', function () {
    const faqQuestions = document.querySelectorAll(
      '.faq-question'
    ) as NodeListOf<HTMLButtonElement>

    faqQuestions.forEach((question) => {
      question.addEventListener('click', function (this: HTMLButtonElement) {
        const faqItem = this.closest('.faq-item') as HTMLElement
        const answer = faqItem?.querySelector('.faq-answer') as HTMLElement
        const arrow = this.querySelector('.faq-arrow') as HTMLElement
        const isOpen =
          answer?.style.maxHeight && answer.style.maxHeight !== '0px'

        // Cerrar todas las otras preguntas
        faqQuestions.forEach((otherQuestion) => {
          if (otherQuestion !== this) {
            const otherFaqItem = otherQuestion.closest(
              '.faq-item'
            ) as HTMLElement
            const otherAnswer = otherFaqItem?.querySelector(
              '.faq-answer'
            ) as HTMLElement
            const otherArrow = otherQuestion.querySelector(
              '.faq-arrow'
            ) as HTMLElement

            if (otherAnswer) otherAnswer.style.maxHeight = '0px'
            if (otherArrow) otherArrow.style.transform = 'rotate(0deg)'
            if (otherFaqItem) otherFaqItem.classList.remove('active')
          }
        })

        // Alternar la pregunta actual
        if (isOpen && answer && arrow && faqItem) {
          answer.style.maxHeight = '0px'
          arrow.style.transform = 'rotate(0deg)'
          faqItem.classList.remove('active')
        } else if (answer && arrow && faqItem) {
          answer.style.maxHeight = answer.scrollHeight + 'px'
          arrow.style.transform = 'rotate(180deg)'
          faqItem.classList.add('active')
        }
      })
    })

    // Animación de entrada con Intersection Observer
    const observer = new IntersectionObserver(
      (entries) => {
        entries.forEach((entry, index) => {
          if (entry.isIntersecting) {
            setTimeout(() => {
              const target = entry.target as HTMLElement
              target.style.opacity = '1'
              target.style.transform = 'translateY(0)'
            }, index * 100)
          }
        })
      },
      {
        threshold: 0.1,
      }
    )

    // Aplicar animación a cada item FAQ
    document.querySelectorAll('.faq-item').forEach((item, index) => {
      const htmlItem = item as HTMLElement
      htmlItem.style.opacity = '0'
      htmlItem.style.transform = 'translateY(30px)'
      htmlItem.style.transition = 'opacity 0.6s ease, transform 0.6s ease'
      observer.observe(item)
    })
  })
</script>

<style>
  .faq-item.active {
    box-shadow: 0 10px 25px rgba(10, 110, 112, 0.1);
    border: 1px solid rgba(10, 110, 112, 0.2);
  }

  .faq-question:focus {
    outline: none;
    box-shadow: 0 0 0 3px rgba(10, 110, 112, 0.3);
  }

  /* Animación suave para el contenido */
  .faq-answer {
    transition: max-height 0.5s cubic-bezier(0.4, 0, 0.2, 1);
  }

  /* Efecto hover sutil */
  .faq-item:hover {
    transform: translateY(-2px);
    transition: transform 0.3s ease;
  }
</style>
